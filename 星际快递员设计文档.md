这是一个经过完整梳理、逻辑闭环且技术落地性极强的最终版设计文档。

这份文档结合了**《地铁跑酷》的经典三轨道玩法**与**科幻题材的视觉表现**，去除了复杂的物理模拟，转而专注于爽快的节奏体验。

------

# 游戏设计文档 (GDD)：星际快递员 (Interstellar Courier)

版本： Final Release 1.0

类型： 3D 无尽跑酷 (Endless Runner) / 节奏街机

平台： PC (键盘/手柄) / 移动端 (后期适配)

引擎： Unreal Engine 5

------

## 1. 剧情背景 (Narrative Context)

世界观：

24世纪，“星际丝绸之路”连接了地球与半人马座。你是一名不知名的独立快递员，驾驶着一艘经过非法改装的高速飞船。

你的目标：

在从地球前往α-37星的漫长航道上，通过接收沿途的加急订单（送货），赚取足够的信用点来升级飞船，最终成为传说中的“光速投递者”。

一句话描述：

在危机四伏的陨石带中，一边躲避撞击，一边完成“接货”与“送货”的极限操作。

------

## 2. 核心玩法 (Core Gameplay)

### 2.1 基础机制：三轨道跑酷 (Lane System)

- **自动巡航：** 飞船以恒定速度向前飞行，速度随生存时间缓慢增加（难度曲线）。
- **轨道设定：** 宇宙空间被划分为 **左、中、右** 三条隐形航道。
- **生命值 (HP)：** 初始3格护盾。撞击障碍物扣1格，护盾归零则坠毁（Game Over）。

### 2.2 操控方式 (Controls)

采用经典的十字键位逻辑，简单直观：

- **A (左移)：** 飞船向左侧航道变道。
- **D (右移)：** 飞船向右侧航道变道。
- **W (上腾/跳跃)：** 飞船启动垂直推进器向上“跃起”。
  - *作用：* 躲避地面/低处的障碍物（如：横卧的残骸）。
- **S (下潜/滑铲)：** 飞船迅速贴近“地面”滑行。
  - *作用：* 躲避高处的障碍物（如：悬空的龙门架或电弧）。

### 2.3 核心循环：接单与配送 (Pick-up & Delivery)

这是本作区别于普通跑酷游戏的核心特色：

1. **拾取货物 (Pick-up)：**
   - 航道上会随机出现悬浮的 **货物箱**（红、蓝、黄三种颜色）。
   - 玩家撞击获取后，飞船尾焰和UI槽会变为对应颜色（例如：捡到红色箱子，飞船发红光）。
   - *规则：* 身上只能携带一个货物，拾取新货物会覆盖旧货物。
2. **投递货物 (Delivery)：**
   - 每隔一段距离，前方会出现横跨航道的 **星际传送门 (Gate)**。
   - 传送门同样分为红、蓝、黄三种颜色。
   - **得分判定：**
     - **完美匹配：** 携带红色货物穿过红色门 -> **获得高额赏金 + 速度爆发特效**。
     - **颜色错误：** 携带蓝色货物穿过红色门 -> **无奖励**。
     - **空载穿门：** 身上没货穿过门 -> **少量基础分**。

### 2.4 局外成长 (Meta Game)

- **资金用途：** 游戏结束后结算的赏金。
- **升级项目：**
  - **护盾强化：** 出门携带4格血。
  - **磁力引擎：** 增加拾取货物箱的判定范围。
  - **赏金协议：** 提升完美配送的奖金倍率。

------

## 3. 核心功能实现 (Technical Implementation)

### 3.1 角色控制 (Character Blueprint)

- **核心逻辑：** 既然是轨道制，**不要**使用物理力（AddForce）。
- **变道实现：**
  - 设置一个整数变量 `CurrentLane` (-1, 0, 1)。
  - 当按下A/D时，修改 `CurrentLane` 的值。
  - 在 `Event Tick` 中，使用 `FMath::VInterpTo` 将飞船的 `RelativeLocation.Y` 平滑插值到目标轨道坐标（例如 -300, 0, 300）。
- **跳跃/下潜实现：**
  - 使用 `Timeline` 节点驱动 `RelativeLocation.Z` 的变化曲线。W键触发“上凸曲线”，S键触发“下凹曲线”。

### 3.2 关卡生成 (Level Generator)

- **地块系统 (Tile System)：**
  - 创建基础蓝图 `BP_FloorTile`，长度固定（如200米）。
  - 游戏开始生成5个Tile。角色每跑过1个Tile，就在最远端生成1个新的，并销毁身后的旧Tile。
- **障碍物生成 (Spawning Logic)：**
  - 每个Tile蓝图里包含三个 **挂点 (Arrow Components)**，分别对应左中右轨道。
  - **随机算法：** 随机决定每个挂点生成什么（障碍物、货物、空置）。
  - **防死局检测 (Sanity Check)：** 算法必须确保三条轨道中**至少有一条**是安全的，或者可以通过跳跃/下潜躲避。

### 3.3 碰撞与交互 (Collision)

- **障碍物 (Meteor/Debris)：** 设置为 `BlockAll`，产生 `Hit` 事件 -> 扣血 + 播放撞击特效 + 摄像机剧烈震动。
- **货物/传送门 (Pickup/Gate)：** 设置为 `OverlapAll`，产生 `BeginOverlap` 事件 -> 触发逻辑判断（加分/变色）。

------

## 4. 美术与视觉表现 (Art Direction)

### 4.1 核心视觉风格

- **风格：** 赛博太空 (Cyber-Space)。深色宇宙背景，配合高饱和度的霓虹光（红/蓝/黄）。
- **速度感营造 (关键)：**
  - **FOV动态变化：** 速度越快，摄像机FOV从90拉伸至110。
  - **径向模糊 (Radial Blur)：** 屏幕边缘始终带有一点模糊，加速时加剧。
  - **速度线 (Speed Lines)：** 使用Niagara粒子系统，在飞船周围生成向后飞掠的线条。

### 4.2 UI 设计 (HUD)

极简主义，不要遮挡视线。

- **正上方：** 距离进度条（显示距离终点还有多少光年）。
- **左上角：** 护盾值（心形图标）。
- **正下方：** 当前携带货物状态（显示一个发光的红/蓝/黄 色块）。
- **飘字反馈：** 配送成功时，头顶弹出金色的 "+500$" 和 "Perfect!"。

------

## 5. 音效设计 (Audio Design)

- **BGM：** 快节奏的 Synthwave / Retrowave 电子乐。
- **SFX (音效)：**
  - **变道：** 快速的“Swoosh”风声。
  - **跳跃/下潜：** 喷气推进声。
  - **拾取货物：** 清脆的装载机械声。
  - **配送成功：** 类似于收银机的 "Ka-ching" 或者是高频的电子确认音（爽感来源）。
  - **撞击：** 低沉的爆炸声 + 音乐瞬间静音 (Ducking) 0.5秒。

------

## 6. 开发优先级 (Roadmap)

为了确保项目顺利完成，建议按照以下步骤执行：

1. **阶段一：白盒原型 (Prototype)**
   - 实现三轨道移动、跳跃、下潜的控制手感。
   - 实现地块的无限循环生成。
   - 实现最基本的障碍物判定（撞到方块就重置）。
   - *目标：* 确保跑起来流畅，手感不粘滞。
2. **阶段二：核心逻辑 (Core Loop)**
   - 加入货物箱和传送门。
   - 编写颜色匹配逻辑。
   - 加入简单的UI显示分数。
3. **阶段三：美术置换 (Polishing)**
   - 将方块替换为飞船、陨石模型。
   - 加入拖尾特效、速度线、场景灯光。
   - 加入音效。
4. **阶段四：局外系统 (Meta)**
   - 制作开始菜单、结算界面。
   - （可选）简单的技能树升级。
   - （可选）抢快递订单的对手。